{"version":3,"sources":["components/Home.js","components/NotFound.js","context/AuthContext.js","components/auth/Login.js","components/auth/Signup.js","components/auth/Logout.js","components/admin/NavbarAdmin.js","components/admin/Admin.js","components/UserAccount.js","components/admin/Users.js","components/Books.js","components/admin/book/AddBook.js","components/admin/book/EditBook.js","components/admin/book/DeleteBook.js","components/BookRead.js","Routes.js","components/Navbar.js","components/Header.js","App.js","index.js","assets/default-cover-book.png","assets/ebook.svg"],"names":["Home","ErrorPage","className","AuthContext","createContext","AuthProvider","children","useState","token","setToken","cookies","setCookies","JSON","parse","localStorage","getItem","isAuth","setIsAuth","isAdmin","setIsAdmin","books","setBooks","userData","setUserData","Provider","value","Login","useContext","email","setEmail","password","setPassword","msg","setMsg","handleLogin","e","a","preventDefault","options","method","headers","body","stringify","fetch","response","json","data","user","role","success","setItem","_id","to","onSubmit","type","name","placeholder","onChange","target","required","Signup","userName","setUserName","handleSignUp","alert","length","indexOf","lastIndexOf","minLength","maxLength","Logout","useEffect","clear","NavbarAdmin","exact","activeClassName","Admin","UserAccount","Users","users","setUsers","then","res","filter","map","key","withRouter","book","title","src","cover","defaultBookCover","alt","width","height","description","author","year","pathname","state","bookpath","path","AddBook","setTitle","setDescription","setAuthor","setYear","fileBook","setFileBook","fileCover","setFileCover","submitHandler","bookData","FormData","append","console","log","axios","post","status","encType","htmlFor","id","accept","files","EditBook","DeleteBook","BookRead","props","pdfjs","GlobalWorkerOptions","workerSrc","version","numPages","setNumPages","pageNumber","setPageNumber","location","onClick","prevState","file","onLoadSuccess","Routes","component","Ebooks","NotFound","Navbar","Header","logo","App","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.1872d28a.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function Home() {\n    return (\n        <div>\n            <h1>Welcome to eBook Library</h1>\n        </div>\n    )\n}\n","import React from 'react'\n\nexport default function ErrorPage() {\n    return (\n        <div className=\"component-container\">\n            <h2 className=\"not-found-msg\">404</h2>\n            <p>Sorry, the page is not found.</p>\n        </div>\n    )\n}\n","import React, { useState, createContext } from 'react'\n\nconst AuthContext = createContext()\n\nconst AuthProvider = ({ children }) => {\n    const [token, setToken] = useState(null)\n    const [cookies, setCookies] = useState(false)\n    const [isAuth, setIsAuth] = useState(JSON.parse(localStorage.getItem('login')))\n    const [isAdmin, setIsAdmin] = useState(false)\n    const [books, setBooks] = useState([])\n    const [userData, setUserData] = useState(\"\")\n\n    return (\n        <AuthContext.Provider value={{\n            token, setToken,\n            cookies, setCookies,\n            isAuth, setIsAuth,\n            isAdmin, setIsAdmin,\n            userData, setUserData,\n            books, setBooks,\n        }}>\n            { children}\n        </AuthContext.Provider >\n    );\n}\n\nexport { AuthContext, AuthProvider };\n","import React, { useState, useContext } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { AuthContext } from \"../../context/AuthContext\"\nimport '../../style/auth.scss'\n\nexport default function Login() {\n    const { isAuth, setIsAuth, isAdmin, setIsAdmin, token, setToken, setCookies, userData, setUserData } = useContext(AuthContext)\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [msg, setMsg] = useState(\"\")\n\n    const handleLogin = async (e) => {\n        e.preventDefault()\n        const userData = {\n            email: email,\n            password: password\n        }\n        const options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                \"x-auth\": token\n            },\n            body: JSON.stringify(userData)\n        }\n        const response = await fetch('/users/login', options)\n        // console.log('login response:', response)\n        const data = await response.json()\n        // console.log('login data:', data)\n\n        if (!data.user) {\n            setMsg(\"sorry, something went wrong\")\n            setEmail(\"\")\n            setPassword(\"\")\n        } else {\n            if (data.user.role === \"Admin\") {\n                setIsAdmin(true)\n            } else {\n                setIsAdmin(false)\n            }\n        }\n        if (data.success) {\n            setIsAuth(true)\n            setCookies(true)\n            setToken(data.token)\n            localStorage.setItem(\"login\", true)\n            localStorage.setItem(\"id\", data.user._id)\n            setUserData(data.user)\n        } else {\n            setMsg(\"wrong login data\")\n            setIsAuth(false)\n        }\n        // console.log(response.headers.get(\"x-auth\"))\n    }\n\n    return (\n        <div className=\"login-container\">\n            <p className=\"msg wrong\">{msg}</p>\n            {!isAuth ?\n                (\n                    <div className=\"form-container\">\n                        <h2>Login</h2>\n                        <form onSubmit={handleLogin}>\n                            <input type=\"text\" name=\"email\" placeholder=\"Enter Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n                            <input type=\"password\" name=\"password\" placeholder=\"Enter Password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\n                            <button type=\"submit\">Login</button>\n                        </form>\n                    </div>\n                )\n                :\n                (isAdmin ?\n                    <Redirect to=\"/admin\" />\n                    :\n                    <Redirect to=\"/ebooks\" />\n                )\n            }\n        </div>\n    )\n}\n","import React, { useState, useContext } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { AuthContext } from \"../../context/AuthContext\"\nimport '../../style/auth.scss'\n\nexport default function Signup() {\n    const { isAuth, setIsAuth, token, setToken, setCookies, setUserData } = useContext(AuthContext)\n    const [userName, setUserName] = useState(null)\n    const [email, setEmail] = useState(null)\n    const [password, setPassword] = useState(null)\n\n    const handleSignUp = async (e) => {\n        e.preventDefault()\n        const userData = {\n            userName,\n            email,\n            password\n        }\n        const options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                \"x-auth\": token\n            },\n            body: JSON.stringify(userData)\n        }\n        const response = await fetch('/users', options)\n        const data = await response.json()\n\n        // check user input \n        if (userName === \"\" || email === \"\" || password === \"\") {\n            alert(\"Please fill in all input fields.\")\n        }\n        if (password == null || password.length < 6) {\n            alert(\"The password should have at least 6 characters.\")\n        }\n        if (email == null || email.indexOf('@') < 1 && email.lastIndexOf(\".\") < 2) {\n            alert(\"Please enter correct email.\")\n        }\n        // check account creation\n        if (data.success) {\n            alert(\"Your account was created successful.\")\n            setIsAuth(true)\n            setCookies(true)\n            setToken(data.token)\n            setUserData(data.user)\n            localStorage.setItem(\"login\", true);\n            localStorage.setItem(\"id\", data.user._id);\n        }\n        else {\n            alert(\"Your account can not be created. Please check if all input data is correct.\")\n        }\n    };\n\n    return (\n        <div className=\"form-container\">\n            <h2>Sign up</h2>\n            {isAuth ? <Redirect to=\"/ebooks\" /> :\n                <form onSubmit={handleSignUp}>\n                    <input type=\"text\" name=\"userName\" placeholder=\"* Enter Name\" required minLength=\"2\" maxLength=\"15\" onChange={(e) => setUserName(e.target.value)} />\n                    <input type=\"email\" name=\"email\" placeholder=\"* Enter Email\" required onChange={(e) => setEmail(e.target.value)} />\n                    <input type=\"password\" name=\"password\" placeholder=\"* Enter Password\" required minLength=\"6\" maxLength=\"20\" onChange={(e) => setPassword(e.target.value)} />\n                    <button type=\"submit\">Sign up</button>\n                </form>\n            }\n        </div>\n    )\n}\n","import React, { useContext, useEffect } from 'react'\nimport { Redirect } from \"react-router-dom\"\nimport { AuthContext } from \"../../context/AuthContext\"\n\nexport default function Logout() {\n    const { isAuth, setIsAuth, setCookies } = useContext(AuthContext)\n\n    useEffect(() => {\n        fetch(\"/users/logout\")\n        localStorage.clear();\n        setCookies(false);\n        setIsAuth(false)\n    }, [])\n\n    return (\n        isAuth ?\n            <div className=\"component-container\">\n                <p>You are logged out.</p>\n            </div>\n            : <Redirect to=\"/login\" />\n    )\n}\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nexport default function NavbarAdmin() {\n    return (\n        <div>\n            <nav className=\"admin-nav\">\n                <h3>manage books</h3>\n                <NavLink className=\"main-nav-link\" to=\"/add-book\" exact activeClassName=\"active\">add ebook</NavLink>\n                <NavLink className=\"main-nav-link\" to=\"/edit-book\" exact activeClassName=\"active\">edit ebook</NavLink>\n                <NavLink className=\"main-nav-link\" to=\"/delete-book\" exact activeClassName=\"active\">delete ebook</NavLink>\n\n                <h3>manage users</h3>\n                <NavLink className=\"main-nav-link\" to=\"/users\" activeClassName=\"active\">Users</NavLink>\n            </nav>\n        </div>\n    )\n}\n","import React, { useContext } from 'react'\nimport { Redirect } from \"react-router-dom\"\nimport NavbarAdmin from './NavbarAdmin'\nimport { AuthContext } from \"../../context/AuthContext\"\nimport '../../style/admin.scss'\n\nexport default function Admin() {\n    const { isAdmin, isAuth } = useContext(AuthContext)\n\n    return (\n        <div className=\"admin\">\n            { isAdmin && isAuth ? (\n                <div>\n                    <h2>hallo admin</h2>\n                    <NavbarAdmin />\n\n                </div>\n            )\n                : <Redirect to=\"/login\" />\n            }\n        </div>\n    )\n}\n","import React, { useContext } from 'react'\nimport { Redirect } from \"react-router-dom\"\nimport { AuthContext } from \"../context/AuthContext\"\n\nexport default function UserAccount() {\n    const { isAuth, userData } = useContext(AuthContext)\n\n    return (\n        isAuth ? (<div className=\"component-container user-account\" >\n            <h2>{userData.userName}, welcome to the ebook library</h2>\n            <h3>User Data</h3>\n            <p>User name: {userData.userName} </p>\n            <p>Email: {userData.email} </p>\n        </div>) : (<Redirect to=\"/login\" />)\n    )\n}\n","import React, { useState, useContext } from 'react'\nimport { Redirect } from \"react-router-dom\"\nimport { Link } from 'react-router-dom'\nimport { AuthContext } from \"../../context/AuthContext\"\n\nexport default function Users() {\n    const { isAdmin, isAuth, token } = useContext(AuthContext)\n    const [users, setUsers] = useState(null)\n\n    fetch(\"/users\", {\n        headers: {\n            \"content-type\": \"application/json\",\n            \"x-auth\": token\n        }\n    })\n        .then(res => res.json())\n        .then(data => {\n            setUsers(data.users)\n        })\n\n    return (\n        <div className=\"component-container users\">\n            <h2>Users</h2>\n            {isAdmin && isAuth ?\n                <>\n                    {users && users.filter(user => user.role !== \"Admin\").map(user => {\n                        return (\n                            <div key={user._id} className=\"user\">\n                                <h3>{user.userName}</h3>\n                                <p>{user.email}</p>\n                            </div>\n                        )\n                    })\n                    }\n                    <Link to=\"/admin\" className=\"link-btn\">go back</Link>\n                </>\n                : <Redirect to=\"/login\" />\n            }\n        </div>\n    )\n}\n","import React, { useContext } from 'react'\nimport { withRouter } from \"react-router\";\nimport { Link, Redirect } from \"react-router-dom\"\nimport { AuthContext } from \"../context/AuthContext\"\nimport defaultBookCover from '../assets/default-cover-book.png'\nimport '../style/book.scss'\n\n\nfunction Ebooks() {\n    const { isAuth, books, setBooks } = useContext(AuthContext)\n\n    fetch(\"/books\")\n        .then(res => res.json())\n        .then(data => {\n            setBooks(data.books)\n        })\n\n    return (\n        <div className=\"book-container\">\n            {isAuth ? (\n                <div className=\"book-list\">\n                    {books && books.map((book) => {\n                        return (\n                            <div key={book._id} className=\"book\">\n                                <h3>{book.title}</h3>\n                                <div className=\"img-div\">\n                                    <img src={book.cover ? book.cover : defaultBookCover}\n                                        alt=\"Book cover\"\n                                        width=\"170\" height=\"250\"\n                                    />\n                                </div>\n                                <div className=\"book-info\">\n                                    <p>{book.description}</p>\n                                    <p>{book.author}</p>\n                                    <p>{book.year}</p>\n                                </div>\n                                <Link\n                                    to={{\n                                        pathname: `/read-book/${book._id}`,\n                                        state: {\n                                            bookpath: book.path\n                                        }\n                                    }}\n                                    className=\"btn-read-book\"\n                                >open to read</Link>\n                            </div>\n                        )\n                    })\n                    }\n                </div>\n            ) : <Redirect to=\"/login\" />}\n        </div >\n    )\n}\n\nexport default withRouter(Ebooks)\n","import React, { useState, useContext } from 'react'\nimport { Redirect } from \"react-router-dom\"\nimport axios from 'axios'\nimport { AuthContext } from \"../../../context/AuthContext\"\n\nexport default function AddBook() {\n    const { isAdmin, isAuth, token } = useContext(AuthContext)\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [author, setAuthor] = useState(\"\");\n    const [year, setYear] = useState(\"\");\n    const [fileBook, setFileBook] = useState(\"\")\n    const [fileCover, setFileCover] = useState(\"\")\n\n    const submitHandler = async (e) => {\n        e.preventDefault()\n        // data from form input\n        let bookData = new FormData();\n        bookData.append('title', title)\n        bookData.append('description', description)\n        bookData.append('author', author)\n        bookData.append('year', year)\n        bookData.append('file', fileBook)\n        bookData.append('cover', fileCover)\n        console.log(\"bookData:\", bookData)\n        // post data to sever\n        try {\n            const res = await axios.post('/books', bookData, {\n                headers: {\n                    'Content-Type': 'multipart/form-data',\n                    'x-auth': token\n                }\n            });\n            if (res.status) {\n                console.log('server response:', res)\n            }\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    return (\n        <div className=\"component-container \">\n            { isAdmin && isAuth ? (\n                <div>\n                    <form onSubmit={submitHandler} encType=\"multipart/form-data\" className=\"add-book\">\n                        <input type=\"text\" name=\"title\" onChange={(e) => setTitle(e.target.value)} placeholder=\"title\" />\n                        <input type=\"text\" name=\"description\" onChange={(e) => setDescription(e.target.value)} placeholder=\"description\" />\n                        <input type=\"text\" name=\"author\" onChange={(e) => setAuthor(e.target.value)} placeholder=\"author\" />\n                        <input type=\"text\" name=\"year\" onChange={(e) => setYear(e.target.value)} placeholder=\"year\" />\n                        <label htmlFor=\"book-file\">Book File</label>\n                        <input\n                            type=\"file\"\n                            name=\"file\"\n                            id=\"book-file\"\n                            placeholder=\"Only .pdf\"\n                            accept=\"application/pdf\"\n                            onChange={(e) => setFileBook(e.target.files[0])}\n                        />\n                        <label htmlFor=\"book-cover\">Book Cover</label>\n                        <input\n                            type=\"file\"\n                            name=\"cover\"\n                            id=\"book-cover\"\n                            placeholder=\"Only .png or .jpeg\"\n                            accept=\"image/png, image/jpeg image/jpg\"\n                            onChange={(e) => setFileCover(e.target.files[0])}\n                        />\n                        <button type=\"submit\" className=\"btn btn-submit\">add book</button>\n                    </form>\n                </div>\n            )\n                : <Redirect to=\"/login\" />\n            }\n        </div>\n    )\n}\n","import React, { useContext } from 'react'\nimport { Redirect } from \"react-router-dom\"\nimport { AuthContext } from \"../../../context/AuthContext\"\n\nexport default function EditBook() {\n    const { isAdmin, isAuth } = useContext(AuthContext)\n\n    return (\n        <div className=\"component-container \">\n            { isAdmin && isAuth ? (\n                <h3>edit book</h3>\n            ) : <Redirect to=\"/login\" />\n            }\n        </div>\n    )\n}\n","import React, { useContext } from 'react'\nimport { Redirect } from \"react-router-dom\"\nimport { AuthContext } from \"../../../context/AuthContext\"\n\nexport default function DeleteBook() {\n    const { isAdmin, isAuth } = useContext(AuthContext)\n\n    return (\n        <div className=\"component-container \">\n            { isAdmin && isAuth ? (\n                <h3>delete book</h3>\n            ) : <Redirect to=\"/login\" />\n            }\n        </div>\n    )\n}\n","import React, { useState } from 'react'\nimport { Document, Page, pdfjs } from \"react-pdf\"\n\nexport default function BookRead(props) {\n    pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n    const [numPages, setNumPages] = useState(null);\n    const [pageNumber, setPageNumber] = useState(1);\n    let pathname = props.location.state.bookpath\n\n    const onDocumentLoadSuccess = ({ numPages }) => {\n        setNumPages(numPages);\n    }\n\n    return (\n        <div className=\"read-book\">\n            <button onClick={() => setPageNumber(prevState => (prevState - 1))} className=\"btn-book-read btn-prev\">\n                previous page\n            </button>\n\n            <button onClick={() => setPageNumber(prevState => (prevState + 1))} className=\"btn-book-read btn-next\">\n                Next page\n            </button>\n\n            <Document\n                file={pathname}\n                onLoadSuccess={onDocumentLoadSuccess}\n                className=\"book-doc\"\n            >\n                <Page pageNumber={pageNumber} />\n                <p>Page {pageNumber} of {numPages}</p>\n            </Document>\n        </div >\n    )\n}\n","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport Home from './components/Home'\nimport NotFound from './components/NotFound'\nimport Login from './components/auth/Login'\nimport Signup from './components/auth/Signup'\nimport Logout from './components/auth/Logout'\nimport Admin from './components/admin/Admin'\nimport UserAccount from './components/UserAccount'\nimport Users from './components/admin/Users'\nimport Ebooks from './components/Books'\nimport AddBook from './components/admin/book/AddBook'\nimport EditBook from './components/admin/book/EditBook'\nimport DeleteBook from './components/admin/book/DeleteBook'\nimport BookRead from './components/BookRead'\n\nexport default function Routes() {\n    return (\n        <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/logout\" component={Logout} />\n            <Route path=\"/userAccount\" component={UserAccount} />\n            <Route path=\"/admin\" component={Admin} />\n            <Route path=\"/users\" component={Users} />\n            <Route path=\"/ebooks\" component={Ebooks} />\n            <Route path=\"/read-book/:id\" component={BookRead} />\n            <Route path=\"/add-book\" component={AddBook} />\n            <Route path=\"/edit-book\" component={EditBook} />\n            <Route path=\"/delete-book\" component={DeleteBook} />\n            <Route component={NotFound} />\n        </Switch>\n    )\n}\n","import React, { useContext } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { AuthContext } from \"../context/AuthContext\"\nimport '../style/navbar.scss';\n\nexport default function Navbar() {\n    const { isAuth } = useContext(AuthContext)\n\n    return (\n        <div>\n            <nav className=\"main-nav\">\n                <ul>\n                    <li>\n                        <NavLink className=\"main-nav-link\" to=\"/\" exact activeClassName=\"active\">Home</NavLink>\n                    </li>\n                    {!isAuth ? (\n                        <div className=\"nav-li-div\">\n                            <li>\n                                <NavLink className=\"main-nav-link\" to=\"/login\" activeClassName=\"active\">Login</NavLink>\n                            </li>\n                            <li>\n                                <NavLink className=\"main-nav-link\" to=\"/signup\" activeClassName=\"active\">Sign up</NavLink>\n                            </li>\n                        </div>\n                    ) : (\n                            <div className=\"nav-li-div\">\n                                <li>\n                                    <NavLink className=\"main-nav-link\" to=\"/ebooks\" activeClassName=\"active\">eBooks</NavLink>\n                                </li>\n                                <li>\n                                    <NavLink className=\"main-nav-link\" to=\"/userAccount\" activeClassName=\"active\">My Account</NavLink>\n                                </li>\n                                <li>\n                                    <NavLink className=\"main-nav-link\" to=\"/logout\" activeClassName=\"active\">Logout</NavLink>\n                                </li>\n                            </div>\n                        )\n                    }\n                </ul>\n            </nav>\n        </div>\n    )\n}\n","import React from 'react';\nimport logo from '../assets/ebook.svg';\nimport Navbar from './Navbar';\n\nexport default function Header() {\n    return (\n        <header>\n            <img src={logo} className=\"App-logo\" alt=\"logo\" />\n            <Navbar />\n        </header>\n    )\n}\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport Routes from './Routes';\nimport Header from './components/Header';\nimport { AuthProvider } from './context/AuthContext';\nimport './style/app.scss';\n\nfunction App() {\n    return (\n        <AuthProvider>\n            <BrowserRouter>\n                <div className=\"App\">\n                    <Header />\n                    <div className=\"app-container\">\n                        <Routes />\n                    </div>\n                </div>\n            </BrowserRouter>\n        </AuthProvider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/default-cover-book.d2850a53.png\";","module.exports = __webpack_public_path__ + \"static/media/ebook.3c124085.svg\";"],"sourceRoot":""}